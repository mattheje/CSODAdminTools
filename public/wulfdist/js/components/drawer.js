!function(a){"function"==typeof define&&define.amd?define(["jquery","./flyout","./scrollbar"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c,require("./flyout"),require("./scrollbar")),c}:a(jQuery)}(function(a){"use strict";var b=a(".n-flyout");a(".n-flyout .n-drawer-tabs li>a:not(:first-child)").attr("tabindex","-1"),b.has(".n-drawer-tabs")&&(b.on("click",".n-drawer-tabs a",function(b){var c=a(this).parent("li"),d=a(this).attr("href").replace("#","");setTimeout(function(){c.parent("ul").find("li").each(function(){a(this).removeClass("focus").removeClass("before-focused").removeClass("after-focused").removeClass("tab-selected"),a(this).removeClass("selected").removeClass("before-selected").removeClass("after-selected")}),c.find("a")[0].focus(),c.addClass("focus");c.find("a");c.parent("ul").find("li a").each(function(){a(this).attr("tabindex",-1)}),c.find("a").removeAttr("tabindex"),c.addClass("tab-selected"),c.next("li").addClass("after-focused"),c.prev("li").addClass("before-focused"),a(".n-flyout-container").hide(),a("#"+d).show()},50)}),b.on("focus",".n-drawer-tabs > li > a",function(b){var c=a(this).parent("li");c.parent("ul").find("li").each(function(){a(this).removeClass("focus").removeClass("before-focused").removeClass("after-focused").removeClass("tab-selected"),a(this).removeClass("selected").removeClass("before-selected").removeClass("after-selected")}),c.addClass("focus"),c.next("li").addClass("after-focused"),c.prev("li").addClass("before-focused"),b.stopPropagation()}),a(document).on("click",function(b){if(!a.contains(a(".n-drawer-tabs")[0],b.target)){var c=a(".n-drawer-tabs li.focus");c.removeClass("focus").addClass("selected"),c.prev().removeClass("before-focused").addClass("before-selected"),c.next().removeClass("after-focused").addClass("after-selected")}}),b.on("click",".drawer-toggle-up",function(){a(this).removeClass("drawer-toggle-up").addClass("drawer-toggle-down"),a(".n-flyout-open").trigger("click")}),b.on("click",".drawer-toggle-down",function(){a(this).removeClass("drawer-toggle-down").addClass("drawer-toggle-up"),a(".n-flyout-open").trigger("click")}),b.on("keydown",".n-drawer-tabs li",function(b){var c=a(b.target),d=37,e=39,f=9;if(c.is("a")){var g=c.attr("href").replace("#",""),h=null;if(b.keyCode===d)h=c.closest("li").prev().find("a"),"none"!==a("#"+g).css("display")?h.trigger("click"):h.trigger("focus");else if(b.keyCode===e)h=c.closest("li").next().find("a"),"none"!==a("#"+g).css("display")?h.trigger("click"):h.trigger("focus");else if(b.keyCode===f){var i=c.parent("li");i.removeClass("focus").addClass("selected"),i.next("li").removeClass("after-focused").addClass("after-selected"),i.prev("li").removeClass("before-focused").addClass("before-selected")}}}))});