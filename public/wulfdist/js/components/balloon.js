!function(a){"function"==typeof define&&define.amd?define(["jquery","bootstrap","./keyboard/keyboard-core"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c,require("bootstrap"),require("./keyboard/keyboard-core")),c}:a(jQuery)}(function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.balloon"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.balloon",e=new c(this,f)),"string"==typeof b&&e[b]())})}if(a.fn.popover){var c=function(b,c){this.element=b,a(b).hasClass("balloon-icon")&&(c=a.extend({},c,{html:!0,content:function(){return a(a(b).data("target-selector")).html()}})),a(b).hasClass("n-hover-balloon")&&(c=a.extend({},c,{trigger:"click hover"})),this.init("balloon",b,c),a(b).on("shown.bs.balloon",function(){var b=a(this);b.parent().find(".n-close").on("click",function(){b.data("bs.balloon").hide()})})};c.VERSION="1.1.0",c.prototype=a.extend({},a.fn.popover.Constructor.prototype),c.prototype.constructor=c,function(b){c.prototype.toggle=function(){b.call(this);var c=this.element;a('[data-toggle^="balloon"]').each(function(b,d){c!==d&&a(this).data("bs.balloon").hide(),a(this).parent().tooltip("hide")})}}(a.fn.popover.Constructor.prototype.toggle),c.prototype.fadeout=function(){var b=a(this),c=b.data("bs.balloon").tip();setTimeout(function(){c.hasClass("in")&&c.fadeOut(1e3,function(){b.data("bs.balloon").hide()})},1e3)};var d=a.fn.nBalloon;a.fn.nBalloon=b,a.fn.nBalloon.Constructor=c,a.fn.nBalloon.noConflict=function(){return a.fn.nBalloon=d,this};var e=function(){a('[data-toggle^="balloon"]').each(function(){var b=a(this).data("bs.balloon"),c=b.tip();c.hasClass("in")&&b.show()})};a(document).on("shown.bs.balloon",'[data-toggle="balloon"][class~="fadeout"]',c.prototype.fadeout).on("keydown.wf.balloon.keyboard","a[data-toggle=balloon]",a.wfKBCore.commonKeyboardHandler),a(document).on("click.wf.balloon",function(b){a('[data-toggle^="balloon"]').each(function(c,d){if(b.target!==d&&!a(b.target).hasClass("popover-content")){var e=a(this).data("bs.balloon"),f=e.tip();f.hasClass("in")&&a(this).triggerHandler("click.balloon")}})}),a(window).on("resize",e)}});