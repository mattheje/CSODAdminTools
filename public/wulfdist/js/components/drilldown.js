!function(a){"function"==typeof define&&define.amd?define(["jquery","./tables"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c,require("./tables")),c}:a(jQuery)}(function(a){"use strict";function b(b){b.slideUp(function(){var b=a(this).closest("table");h(b,"7")}),j(b)}function c(b,c,d){a(".n-drillDown-arrow").animate({left:d}),b.parent().is("wf-drilldown")?(b.parent().show().siblings().children().stop(!0,!0).hide(),b.show()):b.show().siblings().stop(!0,!0).hide(),k(c)}function d(b,c,d){a(".n-drillDown-collapsed").hide(),a(".n-drillDown-collapsed-row").hide(),a(".n-drillDown-arrow").css("left",d),j(b),b.slideDown();var e=c.closest("table"),f=e.find("tr:last").height();f>0?h(e,"0"):h(e,"7"),i(c)}function e(b){b.slideUp(function(){var b=a(this).closest("table");h(b,"7")})}function f(a){var b=a.find("tr:last-child").find(".n-drillDown-inner");b.css("border-bottom-left-radius","7px").css("border-bottom-right-radius","7px");var c=a.find("tr:last-child").find(".n-drillDown-content");c.css("border-bottom-left-radius","7px").css("border-bottom-right-radius","7px")}function g(a){var b=window.event&&window.event.ctrlKey||a.ctrlKey,c=window.event&&window.event.shiftKey||a.shiftKey;return b||c}function h(a,b){a.find("tr:nth-last-child(2)").find("td:first-child").css("border-bottom-left-radius",b+"px"),a.find("tr:nth-last-child(2)").find("td:last-child").css("border-bottom-right-radius",b+"px")}function i(b){a(b).children("span").addClass("n-drillDown-cell"),b.is("td")?(b.siblings("td").removeClass("n-drilldown-item-selected"),b.addClass("n-drilldown-item-selected"),b.data("expanded",!0),b.siblings("td").data("expanded",!0)):b.find("td").data("expanded",!0)}function j(b){b.closest("table").find("td").each(function(){a(this).data("expanded",!1),a(this).removeClass("n-drilldown-item-selected")})}function k(a){a.is("td")&&(a.siblings("td").removeClass("n-drilldown-item-selected"),a.addClass("n-drilldown-item-selected"))}var l={toggle:function(e){var h=a(this).closest("table");if(f(h),!g(e)){var i,j;a(this).is("tr")?(i=!0,j=a(this).find("td").data("expanded")):(i=a(this).hasClass("n-drilldown-item-selected"),j=a(this).data("expanded"));var k=a(a(this).data("targetSelector"));if(j===!0&&i===!0)b(k);else{var l=a(this).position().left+a(this).width()/2,m=l+"px";j===!0&&i===!1?c(k,a(this),m):d(k,a(this),m)}}},collapse:function(c){if(27===c.keyCode||"undefined"==typeof c.keyCode){var d,f;a(this).is("span")?(d=a(this).closest(".n-drillDown-collapsed"),f=a(this).closest(".n-drillDown-collapsed-row")):a(this).is("button")?(d=a(this).closest(".n-drillDown-collapsed"),f=a(this).closest(".n-drillDown-collapsed-row")):a(this).is("table")&&(d=a(this).find(".n-drillDown-collapsed"),f=a(this).find(".n-drillDown-collapsed-row")),d.length>0?b(d):f.length>0&&e(f)}},relocateArrow:function(){var b=a(".n-drilldown-item-selected");if(0!==b.length){var c=b.position().left+b.width()/2,d=c+"px";a(".n-drillDown-arrow").css("left",d)}}};return a(document).ready(function(){a("td.n-drillDown-item").attr("tabindex",0),a("tr.n-drillDown-row").find("td").not(".text-center").attr("tabindex",0)}),a(document).on("click.wf.drilldown",".n-drillDown-item",l.toggle).on("click.wf.drilldown",".n-drillDown-row",l.toggle).on("click.wf.drilldown",".n-drillDown-content .icon-close-rounded",l.collapse).on("click.wf.drilldown",".n-drillDown-collapsed-row .icon-close-rounded",l.collapse).on("click.wf.drilldown",".n-drillDown-content .btn-close",l.collapse).on("click.wf.drilldown",".n-drillDown-collapsed-row .btn-close",l.collapse).on("keyup.wf.drilldown.keyboard",".n-drilldown-table",l.collapse),a(window).on("resize.wf.drilldown",l.relocateArrow),l});