!function(a){"function"==typeof define&&define.amd?define(["jquery","jqxcore","jqxchart"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c,require("jqxcore"),require("jqxchart")),c}:a(jQuery)}(function(a){"use strict";a.jqx&&a.jqx._jqxChart&&a.jqx.svgRenderer&&(a.jqx.adjustColor=function(a){return"string"!=typeof a?"#000000":-1==a.indexOf("#")?a:a.toUpperCase()},a.extend(a.jqx._jqxChart.prototype,{_defaultLineColor:"#B1B1B1",_initRenderer:function(b){if(!a.jqx.createRenderer)throw"Please include jqxdraw.js";var c=document.createElement("div"),d=this.seriesGroups[0].type,e=this.seriesGroups[0].orientation;if(a(c).addClass("panel-shadow chart-panel"),"line"===d||"column"===d?"horizontal"===e?(c.style.width=b.width()-384+"px",c.style.height=b.height()-50+"px",c.style.left="152px"):(c.style.width=b.width()-70+"px",c.style.height=b.height()-60+"px",this.padding={top:12,left:9,right:28,bottom:32}):(c.style.width=b.width()+"px",c.style.height=b.height()+"px"),"donut"===d){var f=document.createElement("div"),g=this.seriesGroups[0].series[0],h=g.innerRadius,i=1.5*g.radius,j=b.height()/2-g.radius-h;f.className="pie-shadow",f.style.width=i+"px",f.style.height=h+"px",f.style.marginLeft=-i/2+"px",f.style.bottom=j+"px",c.appendChild(f),b.addClass("pie-chart")}var k=this.seriesGroups[0].series.length;if(k&&this.showLegend){var l=25*k;this.padding.top=12+l,c.style.height=b.height()-60-l+"px",l+="px",a(c).css({top:l}),"column"===d&&"horizontal"===e&&(c.style.height=b.height()-99+"px",c.style.top="29px")}a(c).css({"background-color":"white","border-radius":"9px"});var m=a.jqx.createRenderer(this,b);return a(b.find(".chartContainer")).css({"z-index":"1"}),b.append(c),m},_render:function(b){var c=this,d=c.renderer;c._colorsCache.clear(),!c._isToggleRefresh&&c._isUpdate&&c._renderData&&c._renderDataClone(),c._renderData=[],d.clear(),c._unselect(),c._hideToolTip(0);var e=c.backgroundImage;void 0==e||""==e?c.host.css({"background-image":""}):c.host.css({"background-image":-1!=e.indexOf("(")?e:"url('"+e+"')"}),c._rect=b;var f=c.padding||{left:5,top:5,right:5,bottom:5},g=d.createClipRect(b),h=d.beginGroup();d.setClip(h,g);var i=d.rect(b.x,b.y,b.width-2,b.height-2);if(void 0==e||""==e?d.attr(i,{fill:c.backgroundColor||c.background||"white"}):d.attr(i,{fill:"transparent"}),0!=c.showBorderLine){var j=void 0==c.borderLineColor?c.borderColor:c.borderLineColor;void 0==j&&(j=c._defaultLineColor);var k=this.borderLineWidth;(isNaN(k)||0>k||k>10)&&(k=1),d.attr(i,{"stroke-width":k,stroke:j})}else a.jqx.browser.msie&&a.jqx.browser.version<9&&d.attr(i,{"stroke-width":1,stroke:c.backgroundColor||"white"});a.isFunction(c.drawBefore)&&c.drawBefore(d,b);var l={x:f.left,y:f.top,width:b.width-f.left-f.right,height:b.height-f.top-f.bottom};c._paddedRect=l;var m,n=c.titlePadding||{left:2,top:2,right:2,bottom:2};if(c.title&&c.title.length>0){var o=c.toThemeProperty("jqx-chart-title-text",null);m=d.measureText(c.title,0,{"class":o}),d.text(c.title,l.x+n.left,l.y+n.top,l.width-(n.left+n.right),m.height,0,{"class":o},!0,"center","center"),l.y+=m.height,l.height-=m.height}if(c.description&&c.description.length>0){var p=c.toThemeProperty("jqx-chart-title-description",null);m=d.measureText(c.description,0,{"class":p}),d.text(c.description,l.x+n.left,l.y+n.top,l.width-(n.left+n.right),m.height,0,{"class":p},!0,"center","center"),l.y+=m.height,l.height-=m.height}(c.title||c.description)&&(l.y+=n.bottom+n.top,l.height-=n.bottom+n.top);var q={x:l.x,y:l.y,width:l.width,height:l.height};c._plotRect=q,c._buildStats(q);for(var r,s=c._isPieOnlySeries(),t=c.seriesGroups,u={xAxis:{},valueAxis:{}},v=0;v<t.length&&!s;v++)if("pie"!=t[v].type&&"donut"!=t[v].type){var w=c._getXAxis(v);if(!w)throw"seriesGroup["+v+"] is missing xAxis definition";var x=w==c._getXAxis()?-1:v;u.xAxis[x]=0}var y=c.axisPadding;isNaN(y)&&(y=5);var z={left:0,right:0,leftCount:0,rightCount:0},A=[];for(v=0;v<t.length;v++){var B=t[v];if("pie"!=B.type&&"donut"!=B.type&&1!=B.spider&&1!=B.polar){r="horizontal"==B.orientation;var w=c._getXAxis(v),x=w==c._getXAxis()?-1:v,C=c._getValueAxis(v),D=C==c._getValueAxis()?-1:v,E=r?w.axisSize:C.axisSize,F={x:0,y:q.y,width:q.width,height:q.height},G=r?c._getXAxis(v).position:C.position;E&&"auto"!=E||(r?(E=this._renderXAxis(v,F,!0,q).width,1==(1&u.xAxis[x])?E=0:E>0&&(u.xAxis[x]|=1)):(E=c._renderValueAxis(v,F,!0,q).width,1==(1&u.valueAxis[D])?E=0:E>0&&(u.valueAxis[D]|=1))),"left"!=G&&1==c.rtl&&(G="right"),"right"!=G&&(G="left"),z[G+"Count"]>0&&z[G]>0&&E>0&&(z[G]+=y),A.push({width:E,position:G,xRel:z[G]}),z[G]+=E,z[G+"Count"]++}else A.push({width:0,position:0,xRel:0})}var H=Math.max(1,Math.max(b.width,b.height)),I={top:0,bottom:0,topCount:0,bottomCount:0},J=[];for(v=0;v<t.length;v++){var B=t[v];if("pie"!=B.type&&"donut"!=B.type&&1!=B.spider&&1!=B.polar){r="horizontal"==B.orientation;var C=this._getValueAxis(v),D=C==c._getValueAxis()?-1:v,w=c._getXAxis(v),x=w==c._getXAxis()?-1:v,K=r?C.axisSize:w.axisSize,G=r?C.position:w.position;K&&"auto"!=K||(r?(K=c._renderValueAxis(v,{x:0,y:0,width:H,height:0},!0,q).height,2==(2&u.valueAxis[D])?K=0:K>0&&(u.valueAxis[D]|=2)):(K=c._renderXAxis(v,{x:0,y:0,width:H,height:0},!0).height,2==(2&u.xAxis[x])?K=0:K>0&&(u.xAxis[x]|=2))),"top"!=G&&(G="bottom"),I[G+"Count"]>0&&I[G]>0&&K>0&&(I[G]+=y),J.push({height:K,position:G,yRel:I[G]}),I[G]+=K,I[G+"Count"]++}else J.push({height:0,position:0,yRel:0})}c._createAnimationGroup("series");var L=0!=c.showLegend,M=L?c._renderLegend(c.legendLayout?c._rect:l,!0):{width:0,height:0};if(!this.legendLayout||isNaN(this.legendLayout.left)&&isNaN(this.legendLayout.top)||(M={width:0,height:0}),l.height<I.top+I.bottom+M.height||l.width<z.left+z.right)return void d.endGroup();q.height-=I.top+I.bottom+M.height,q.x+=z.left,q.width-=z.left+z.right,q.y+=I.top;var N=[];if(!s){c._getXAxis().tickMarksColor||c._defaultLineColor;for(v=0;v<t.length;v++){var B=t[v];if(1!=B.polar&&1!=B.spider&&"pie"!=B.type&&"donut"!=B.type){r="horizontal"==B.orientation;var x=c._getXAxis(v)==c._getXAxis()?-1:v,D=c._getValueAxis(v)==c._getValueAxis()?-1:v,F={x:q.x,y:0,width:q.width,height:J[v].height};if("top"!=J[v].position?F.y=q.y+q.height+J[v].yRel:F.y=q.y-J[v].yRel-J[v].height,r){if(4==(4&u.valueAxis[D]))continue;if(!c._isGroupVisible(v))continue;c._renderValueAxis(v,F,!1,q),u.valueAxis[D]|=4}else{if(N.push(F),4==(4&u.xAxis[x]))continue;if(!c._isGroupVisible(v))continue;c._renderXAxis(v,F,!1,q),u.xAxis[x]|=4}}}}if(L){var O=c.legendLayout?c._rect:l,P=l.x+a.jqx._ptrnd((l.width-M.width)/2),Q=q.y+q.height+I.bottom,E=l.width,K=M.height;c.legendLayout&&(isNaN(c.legendLayout.left)||(P=c.legendLayout.left),isNaN(c.legendLayout.top)||(Q=c.legendLayout.top),isNaN(c.legendLayout.width)||(E=c.legendLayout.width),isNaN(c.legendLayout.height)||(K=c.legendLayout.height)),P+E>O.x+O.width&&(E=O.x+O.width-P),Q+K>O.y+O.height&&(K=O.y+O.height-Q),c._renderLegend({x:P,y:Q,width:E,height:K})}if(c._hasHorizontalLines=!1,!s)for(v=0;v<t.length;v++){var B=t[v];if(1!=B.polar&&1!=B.spider&&"pie"!=B.type&&"donut"!=B.type){r="horizontal"==t[v].orientation;var F={x:q.x-A[v].xRel-A[v].width,y:q.y,width:A[v].width,height:q.height};"left"!=A[v].position&&(F.x=q.x+q.width+A[v].xRel);var x=c._getXAxis(v)==c._getXAxis()?-1:v,D=c._getValueAxis(v)==c._getValueAxis()?-1:v;if(r){if(N.push(F),8==(8&u.xAxis[x]))continue;if(!c._isGroupVisible(v))continue;c._renderXAxis(v,F,!1,q),u.xAxis[x]|=8}else{if(8==(8&u.valueAxis[D]))continue;if(!c._isGroupVisible(v))continue;c._renderValueAxis(v,F,!1,q),u.valueAxis[D]|=8}}}if(!(q.width<=0||q.height<=0)){for(c._plotRect={x:q.x,y:q.y,width:q.width,height:q.height},v=0;v<t.length;v++)this._drawPlotAreaLines(v,!0,{gridLines:!1,tickMarks:!1,alternatingBackground:!0}),this._drawPlotAreaLines(v,!1,{gridLines:!1,tickMarks:!1,alternatingBackground:!0});for(v=0;v<t.length;v++)this._drawPlotAreaLines(v,!0,{gridLines:!0,tickMarks:!0,alternatingBackground:!1}),this._drawPlotAreaLines(v,!1,{gridLines:!0,tickMarks:!0,alternatingBackground:!1});var R=!1;for(v=0;v<t.length&&!R;v++){var B=t[v];if(void 0!==B.annotations||a.isFunction(B.draw)||a.isFunction(B.drawBefore)){R=!0;break}}var S=d.beginGroup();if(!R){var T=d.createClipRect({x:q.x+1,y:q.y,width:q.width+4,height:q.height});d.setClip(S,T)}for(v=0;v<t.length;v++){var B=t[v],U=!1;for(var V in c._seriesTypes)if(c._seriesTypes[V]==B.type){U=!0;break}if(!U)throw'Invalid serie type "'+B.type+'"';a.isFunction(B.drawBefore)&&B.drawBefore(d,b,v,this),(1==B.polar||1==B.spider)&&-1==B.type.indexOf("pie")&&-1==B.type.indexOf("donut")&&c._renderSpiderAxis(v,q),c._renderAxisBands(v,q,!0),c._renderAxisBands(v,q,!1)}for(v=0;v<t.length;v++){var B=t[v];if(c._isColumnType(B.type)?c._renderColumnSeries(v,q):-1!=B.type.indexOf("pie")||-1!=B.type.indexOf("donut")?c._renderPieSeries(v,q):-1!=B.type.indexOf("line")||-1!=B.type.indexOf("area")?c._renderLineSeries(v,q):-1!=B.type.indexOf("scatter")||-1!=B.type.indexOf("bubble")?c._renderScatterSeries(v,q):(-1!=B.type.indexOf("candlestick")||-1!=B.type.indexOf("ohlc"))&&c._renderCandleStickSeries(v,q,-1!=B.type.indexOf("ohlc")),B.annotations){if(!this._moduleAnnotations)throw"Please include 'jqxchart.annotations.js'";for(var W=0;W<B.annotations.length;W++)c._renderAnnotation(v,B.annotations[W],q)}a.isFunction(B.draw)&&c.draw(d,b,v,this)}if(d.endGroup(),0==c.enabled){var X=d.rect(b.x,b.y,b.width,b.height);d.attr(X,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})}a.isFunction(c.draw)&&c.draw(d,b),d.endGroup(),c._startAnimation("series");for(var Y=!1,v=0;v<c.seriesGroups.length&&!Y;v++){var w=c._getXAxis(v);w&&w.rangeSelector&&(Y=!0)}if(Y){if(!this._moduleRangeSelector)throw"Please include 'jqxchart.rangeselector.js'";var Z=[];for(this._isSelectorRefresh||(c.removeHandler(a(document),c._getEvent("mousemove"),c._onSliderMouseMove),c.removeHandler(a(document),c._getEvent("mousedown"),c._onSliderMouseDown),c.removeHandler(a(document),c._getEvent("mouseup"),c._onSliderMouseUp)),c._isSelectorRefresh||(c._rangeSelectorInstances={}),v=0;v<c.seriesGroups.length;v++){var $=this._getXAxis(v);-1==Z.indexOf($)&&this._renderXAxisRangeSelector(v,N[v])&&Z.push($)}}}},_showLabel:function(a,b,c,d,e,f,g,h,i,j,k){var l,m=this.seriesGroups[a],n=(m.series[b],{width:0,height:0});if(!isNaN(c)){var o=this._getLabelsSettings(a,b,c);if(!o.visible)return g?n:void 0;if(d.width<0||d.height<0)return g?n:void 0;var p=o.angle;isNaN(j)||(p=j);var q=o.offset||{},r={x:q.x,y:q.y};isNaN(r.x)&&(r.x=0),isNaN(r.y)&&(r.y=0),e=e||o.horizontalAlignment||"center",f=f||o.verticalAlignment||"center";var s=this._getFormattedValue(a,b,c,void 0,void 0,!0),t=d.width,u=d.height;if(1==h&&"center"!=e&&(e="right"==e?"left":"right"),1==i&&"center"!=f&&"middle"!=f&&(f="top"==f?"bottom":"top",r.y*=-1),n=this.renderer.measureText(s,p,{"class":o["class"]}),g)return n;var v=0,w=0;t>0&&(""==e||"center"==e?v+=(t-n.width)/2:"right"==e&&(v+=t-n.width)),u>0&&(""==f||"center"==f?w+=(u-n.height)/2:"bottom"==f&&(w+=u-n.height)),v+=d.x+r.x,w+=d.y+r.y;var x=this._plotRect;"horizontal"===this.seriesGroups[0].orientation&&(v=x.x-30+r.x,w-=2);var y={width:Math.max(n.width,1),height:Math.max(n.height,1)};w+y.height>=x.y+x.height&&(w=x.y+x.height-(l?(y.height+l.height)/2:y.height)-2),v+y.width>=x.x+x.width&&(v=x.x+x.width-y.width-2);var z,A=o.backgroundColor,B=o.borderColor,C=o.padding;if(A||B){z=this.renderer.beginGroup();var d=this.renderer.rect(v-C.left,w-C.top,n.width+C.left+C.right,n.height+C.bottom+C.bottom,{fill:A||"transparent","fill-opacity":o.backgroundOpacity||1,stroke:B||"transparent","stroke-opacity":o.borderOpacity,"stroke-width":1})}var D=this.renderer.text(s,v,w,n.width,n.height,p,{"class":o["class"],opacity:o.opacity||1},!1,"center","center");return k&&(k.x=v-C.left,k.y=w-C.top,k.width=n.width+C.left+C.right,k.height=n.height+C.bottom+C.bottom),this._isVML&&(this.renderer.removeElement(D),this.renderer.getContainer()[0].appendChild(D)),z&&this.renderer.endGroup(),z||D}},_animColumns:function(b,c){for(var d=b.groupIndex,e=this.seriesGroups[d],f=b.renderData,g=-1!=e.type.indexOf("waterfall"),h=this._getXAxis(d),i=-1!=e.type.indexOf("stacked"),j=b.polarAxisCoords,k=(this._getGroupGradientType(d),b.columnGroupWidth.targetWidth,-1),l=0;l<e.series.length;l++)if(this._isSerieVisible(d,l)){k=l;break}for(var m=NaN,n=NaN,l=0;l<b.seriesCtx.length;l++){var o=b.seriesCtx[l];(isNaN(m)||m>o.xAdjust)&&(m=o.xAdjust),(isNaN(n)||n<o.xAdjust+o.columnWidth)&&(n=o.xAdjust+o.columnWidth)}for(var p=Math.abs(n-m),q=b.renderData.xoffsets,r=-1,s={},t=1==e.skipOverlappingPoints,u=q.first;u<=q.last;u++){var v=q.data[u];if(!(isNaN(v)||-1!=r&&Math.abs(v-r)<p&&t)){r=v;var w=this._getColumnVOffsets(f,d,b.seriesCtx,u,i,c),x=!1;if(g)for(var y=0;y<e.series.length;y++)e.series[y].summary&&q.xvalues[u][e.series[y].summary]&&(x=!0);for(var y=0;y<b.seriesCtx.length;y++){var o=b.seriesCtx[y],z=o.seriesIndex,A=e.series[z],B=w[y].from,C=w[y].to,D=w[y].xOffset;o.elements||(o.elements={}),o.labelElements||(o.labelElements={});var E=o.elements,F=o.labelElements,G=(b.vertical?b.rect.x:b.rect.y)+o.xAdjust,H=o.settings,I=0!=o.itemsColors.length?o.itemsColors[u-f.xoffsets.first]:o.serieColors,J=this._isSerieVisible(d,z);if(J){var v=a.jqx._ptrnd(G+D),K={x:v,width:o.columnWidth};w[y].funnel&&(K.fromWidthPercent=w[y].fromWidthPercent,K.toWidthPercent=w[y].toWidthPercent);var L=!0;b.vertical?(K.y=B,K.height=C-B,K.height<0&&(K.y+=K.height,K.height=-K.height,L=!1)):(K.x=C>B?B:C,K.width=Math.abs(B-C),L=0>B-C,K.y=v,K.height=o.columnWidth);var M=B-C;if(!isNaN(M)){M=Math.abs(M);var N=void 0,O=void 0==E[u];if(j){N=this._columnAsPieSlice(E,u,b.rect,j,K);var I=this._getColors(d,z,void 0,"radialGradient",N.outerRadius)}else if(w[y].funnel){var P=this._getTrapezoidPath(a.extend({},K),b.vertical,L);O?E[u]=this.renderer.path(P,{}):this.renderer.attr(E[u],{d:P})}else O?E[u]=this.renderer.rect(K.x,K.y,b.vertical?K.width:0,b.vertical?0:K.height):1==b.vertical?this.renderer.attr(E[u],{x:K.x,y:K.y,height:M+5,"class":"bar"}):this.renderer.attr(E[u],{x:K.x-5,y:K.y,width:M+5,"class":"bar"});if(1>M&&(1!=c||j)?this.renderer.attr(E[u],{display:"none"}):this.renderer.attr(E[u],{display:"block"}),O&&this.renderer.attr(E[u],{fill:I.fillColor,"fill-opacity":H.opacity,"stroke-opacity":H.opacity,stroke:I.lineColor,"stroke-width":H.stroke,"stroke-dasharray":H.dashStyle}),this.renderer.removeElement(F[u]),J&&!(0==M&&1>c)){if(g&&0!=this._get([A.showWaterfallLines,e.showWaterfallLines])){if(!i||i&&y==k){var Q=i?-1:y;if(1==c&&!isNaN(f.offsets[y][u].from)&&!isNaN(f.offsets[y][u].to)){var R=s[Q];if(void 0!=R){var S={x:R.x,y:a.jqx._ptrnd(R.y)},T={x:v,y:S.y},U=e.columnsTopWidthPercent/100;isNaN(U)?U=1:(U>1||0>U)&&(U=1);var V=e.columnsBottomWidthPercent/100;isNaN(V)?V=1:(V>1||0>V)&&(V=1);var W=b.vertical?K.width:K.height;if(S.x=S.x-W/2+W/2*U,x){var X=W*U/2;T.x=T.x+W/2-(h.flip?-X:X)}else{var X=W*V/2;T.x=T.x+W/2-(h.flip?-X:X)}b.vertical||(this._swapXY([S]),this._swapXY([T])),this.renderer.line(S.x,S.y,T.x,T.y,{stroke:R.color,"stroke-width":H.stroke,"stroke-opacity":H.opacity,"fill-opacity":H.opacity,"stroke-dasharray":H.dashStyle})}}}1==c&&0!=M&&(s[i?-1:y]={y:C,x:b.vertical?K.x+K.width:K.y+K.height,color:I.lineColor})}if(j){var W=(this._toPolarCoord(j,b.rect,K.x+K.width/2,K.y),this._showLabel(d,z,u,K,void 0,void 0,!0)),Y=N.outerRadius+10,Z=this._adjustTextBoxPosition(j.x,j.y,W,Y,(N.fromAngle+N.toAngle)/2,!0,!1,!1);F[u]=this._showLabel(d,z,u,{x:Z.x,y:Z.y},void 0,void 0,!1,!1,!1)}else F[u]=this._showLabel(d,z,u,K,void 0,void 0,!1,!1,L);1==c&&this._installHandlers(E[u],"column",d,z,u)}}}}}}},_createTooltip:function(b,c,d,e){var f=this,g=c.type,h=!1,i=f._ttEl.box;if(!i){h=!0,i=f._ttEl.box=document.createElement("div");var j=1e7,k=document.createElement("div");i.style.position="absolute",i.style.cursor="default",i.style.zIndex=9,i.setAttribute("aria-labelledby","tooltip-msg"),i.setAttribute("role","alertdialog"),a(k).css({"z-index":j,"box-sizing":"content-box"}),a(document.body).append(i),k.id="arrowOuterDiv",k.style.width="0px",k.style.height="0px",k.style.position="absolute",a(k).css({"z-index":j+1,"box-sizing":"content-box"});var l=document.createElement("div");l.id="arrowInnerDiv",l.style.width="0px",l.style.height="0px",l.style.position="absolute";var m=document.createElement("div");m.id="contentDiv",m.style.position="absolute",m.style.borderRadius="7px",a(m).css({"box-sizing":"content-box"}),a(m).addClass("jqx-rc-all jqx-button"),a(m).appendTo(a(i)),a(k).appendTo(a(i)),a(l).appendTo(a(i)),a(l).css({"z-index":j+2,"box-sizing":"content-box"})}if(!d||0==d.length)return void a(i).fadeTo(0,0);m=a(i).find("#contentDiv")[0],k=a(i).find("#arrowOuterDiv")[0],l=a(i).find("#arrowInnerDiv")[0],l.style.opacity=k.style.opacity=e.fillOpacity,m.style.backgroundColor="black",m.style.backgroundImage="linear-gradient(to bottom, #666 0%, #000 100%)",m.style.borderColor="black",m.style.color="white",m.style.opacity=e.fillOpacity,m.style.boxShadow="0 3px 5px rgba(0, 0, 0, 0.65)";var n="<span id='tooltip-msg' style='text-align: left;color:#fff;font-size:14px;display:inline-block;padding:9px 7px 8px 7px;' class='"+e.css+"'>"+d+"</span>";a(m).html(n);var o=this._measureHtml(n,"jqx-rc-all jqx-button"),p=f._plotRect;if(!(o.width>p.width||o.height>p.height)){var q={width:o.width,height:o.height},r="",s=10,t=f._isColumnType(g),u=Math.max(b.x,p.x),v=Math.max(b.y,p.y);if("dataPoint"==f.toolTipAlignment){if(-1!=g.indexOf("pie")||-1!=g.indexOf("donut")){var w=(b.fromAngle+b.toAngle)/2;w*=Math.PI/180;var x=!isNaN(b.innerRadius)&&b.innerRadius>0?(b.innerRadius+b.outerRadius)/2:.75*b.outerRadius;u=b.x=b.center.x+Math.cos(w)*x,v=b.y=b.center.y-Math.sin(w)*x,b.width=b.height=1}else t&&(c.polar||c.spider)&&(b.width=b.height=1);var y=this._fitTooltip(this._plotRect,b,q,c,e.symbolSize);""!=y.arrowLocation&&(r=y.arrowLocation,u=y.x,v=y.y,q.width=y.width,q.height=y.height)}else r="";"top"==r||"bottom"==r?(q.height+=s,u-=s/2,"bottom"==r&&(v-=s)):("left"==r||"right"==r)&&(q.width+=s,v-=s/2,"right"==r&&(u-=s)),u+q.width>p.x+p.width&&(r="",u=p.x+p.width-q.width),v+q.height>p.y+p.height&&(r="",v=p.y+p.height-q.height);var z={x:0,y:0},A={x:0,y:0};a(m).css({width:o.width,height:o.height,left:0,top:0}),k.style["margin-top"]=k.style["margin-left"]=0,l.style["margin-top"]=l.style["margin-left"]=0,m.style["margin-top"]=m.style["margin-left"]=0;var B=s+"px solid",C=s+"px solid transparent";switch(e.fill="#000",e.stroke="#000",-1!=g.indexOf("line")&&(r="top"),-1!=g.indexOf("column")&&(r="top"),r){case"left":z={x:0,y:(o.height-s)/2},A={x:s,y:0},m.style["margin-left"]=s+"px",k.style["margin-left"]="1px",k.style["margin-top"]=z.y+"px",k.style["border-left"]="",k.style["border-right"]=B+" "+e.stroke,k.style["border-top"]=C,k.style["border-bottom"]=C,l.style["margin-left"]="1px",l.style["margin-top"]=z.y+"px",l.style["border-left"]="",l.style["border-right"]=B+" "+e.fill,l.style["border-top"]=C,l.style["border-bottom"]=C;break;case"right":z={x:q.width-s,y:(o.height-s)/2},A={x:0,y:0},k.style["margin-left"]=z.x+"px",k.style["margin-top"]=z.y+"px",k.style["border-left"]=B+" "+e.stroke,k.style["border-right"]="",k.style["border-top"]=C,k.style["border-bottom"]=C,l.style["margin-left"]=z.x-1+"px",l.style["margin-top"]=z.y+"px",l.style["border-left"]=B+" "+e.fill,l.style["border-right"]="",l.style["border-top"]=C,l.style["border-bottom"]=C;break;case"top":z={x:q.width/2-s/2,y:0},A={x:0,y:s},m.style["margin-top"]=A.y+"px",k.style["margin-left"]=z.x+"px",k.style["border-top"]="",k.style["border-bottom"]=B+" "+e.stroke,k.style["border-left"]=C,k.style["border-right"]=C,l.style["margin-left"]=z.x+"px",l.style["margin-top"]="1px",l.style["border-top"]="",l.style["border-bottom"]=B+" #666",l.style["border-left"]=C,l.style["border-right"]=C;break;case"bottom":z={x:q.width/2-s/2,y:q.height-s},A={x:0,y:0},k.style["margin-left"]=z.x+"px",k.style["margin-top"]=z.y+"px",k.style["border-top"]=B+" "+e.stroke,k.style["border-bottom"]="",k.style["border-left"]=C,k.style["border-right"]=C,l.style["margin-left"]=z.x+"px",l.style["margin-top"]=z.y-1+"px",l.style["border-top"]=B+" "+e.fill,l.style["border-bottom"]="",l.style["border-left"]=C,l.style["border-right"]=C}-1!=g.indexOf("line")&&(this.element.clientWidth-b.x<=150?(u=b.x-q.width+4*s,v=b.y+20,z={x:q.width-5*s,y:0},A={x:0,y:s},m.style["margin-top"]=A.y+"px",k.style["margin-left"]=z.x+"px",k.style["border-top"]="",k.style["margin-top"]="1px",k.style["border-bottom"]=B+" "+e.stroke,k.style["border-left"]=C,k.style["border-right"]=C,l.style["margin-left"]=z.x+"px",l.style["margin-top"]="2px",l.style["border-top"]="",l.style["border-bottom"]=B+" #666",l.style["border-left"]=C,l.style["border-right"]=C):(u=b.x-30,v=b.y+20,z={x:2*s,y:0},A={x:0,y:s},m.style["margin-top"]=A.y+"px",k.style["margin-left"]=z.x+"px",k.style["border-top"]="",k.style["margin-top"]="1px",k.style["border-bottom"]=B+" "+e.stroke,k.style["border-left"]=C,k.style["border-right"]=C,l.style["margin-left"]=z.x+"px",l.style["margin-top"]="2px",l.style["border-top"]="",l.style["border-bottom"]=B+" #666",l.style["border-left"]=C,l.style["border-right"]=C)),-1!=g.indexOf("column")&&(u=b.x-30,v=b.y+20,z={x:q.width-5*s,y:0},A={x:0,y:s},m.style["margin-top"]=A.y+"px",k.style["margin-left"]=z.x+"px",k.style["border-top"]="",k.style["margin-top"]="1px",k.style["border-bottom"]=B+" "+e.stroke,k.style["border-left"]=C,k.style["border-right"]=C,l.style["margin-left"]=z.x+"px",l.style["margin-top"]="2px",l.style["border-top"]="",l.style["border-bottom"]=B+" #666",l.style["border-left"]=C,l.style["border-right"]=C),""==r?(a(k).hide(),a(l).hide()):(a(k).show(),a(l).show()),a(i).css({width:q.width+"px",height:q.height+"px"});var D=f.host.coord();h&&(a(i).fadeOut(0,0),i.style.left=u+D.left+"px",i.style.top=v+D.top-20+"px"),a(i).clearQueue(),a(i).css({left:u+D.left,top:v+D.top-20}),"column"===c.type&&"horizontal"===c.orientation&&a(i).css({left:b.x-23+b.width/2,top:v+D.top-20}),a(i).fadeTo(0,1)}},_applyPieSelect:function(){var a=this._selected;a&&(a.element.style.strokeWidth=2,a.element.style.stroke="#00A1CC")},_applyPieUnselect:function(){var a=this._selected;a&&(a.element.style.strokeWidth=0)}}),a.extend(a.jqx.svgRenderer.prototype,{line:function(a,b,c,d,e){b===d&&(c+=16);var f=this.shape("line",{x1:a,y1:b,x2:c,y2:d});return this.attr(f,e),a===c&&this.attr(f,{"stroke-width":"1"}),f},rect:function(b,c,d,e,f){b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c),d=Math.max(1,a.jqx._rnd(d,1,!1)),e=Math.max(1,a.jqx._rnd(e,1,!1));var g=this.shape("rect",{x:b,y:c,width:d,height:e});f&&this.attr(g,f);var h=e>50?9:5;return this.attr(g,{rx:h}),g},_toLinearGradient:function(a,b){var c="grd"+this._id+a.replace("#","")+(b?"v":"h"),d="url("+this.getWindowHref()+"#"+c+")";if(this._gradients[d])return d;var e=document.createElementNS(this._svgns,"linearGradient");this.attr(e,{x1:"0%",y1:"0%",x2:b?"0%":"100%",y2:b?"100%":"0%",id:c});var f=[0,50,50,100];a=["#0B6DAF","#0B6DAF","#09578C","#09578C"];for(var g=0;g<f.length;g++){var h=document.createElementNS(this._svgns,"stop"),i="stop-color:"+a[g];this.attr(h,{offset:f[g]+"%",style:i}),e.appendChild(h)}return this._defs.appendChild(e),this._gradients[d]=!0,d},_toRadialGradient:function(a,b,c){function d(a,b){var c=!1;"#"==a[0]&&(a=a.slice(1),c=!0);var d=parseInt(a,16),e=(d>>16)+b;e>255?e=255:0>e&&(e=0);var f=(d>>8&255)+b;f>255?f=255:0>f&&(f=0);var g=(255&d)+b;return g>255?g=255:0>g&&(g=0),(c?"#":"")+String("000000"+(g|f<<8|e<<16).toString(16)).slice(-6)}var e="grd"+this._id+a.replace("#","")+"r"+(void 0!=c?c.key:""),f="url("+this.getWindowHref()+"#"+e+")";if(this._gradients[f])return f;var g=document.createElementNS(this._svgns,"radialGradient");void 0==c?this.attr(g,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:e}):this.attr(g,{cx:c.x,cy:c.y,r:c.outerRadius,id:e,gradientUnits:"userSpaceOnUse"}),b=[[0,0],[80,0],[81,-20],[100,-20]];for(var h=0;h<b.length;h++){var i=b[h],j=document.createElementNS(this._svgns,"stop"),k="stop-color:"+d(a,i[1]);this.attr(j,{offset:i[0]+"%",style:k}),g.appendChild(j)}return this._defs.appendChild(g),this._gradients[f]=!0,f}}))});