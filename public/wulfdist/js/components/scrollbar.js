!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c),c}:a(jQuery)}(function(a){"use strict";function b(){return a(this).each(function(){var b=a(this),e={horizontal:b.is(".horizontal"),vertical:b.is(".vertical")};b.wrapInner(c("div","scrolling-content-container",c("div","scrolling-content")));var f=[];["horizontal","vertical"].forEach(function(a){if(e[a]&&"undefined"==typeof b.data("scrollbar-"+a)){var c=new d(b,a);f.push(c),b.data("scrollbar-"+a,c)}})})}var c=function(){var a=jQuery(document.createElement(arguments[0]));if(arguments.length>1){var b=Array.prototype.slice.call(arguments,0);b.shift(),"string"==typeof b[0]&&a.addClass(b.shift());for(var c=0;c<b.length;c++)b[c]&&a.append(b[c])}return a},d=function(b,d){this.$container=b,this.$content_container=b.find(".scrolling-content-container"),this.$content=b.find(".scrolling-content"),this.$scrollbar=c("div","scrollbar-container "+d,c("div","track",c("div")),c("div","thumb")).appendTo(b),this.$track=this.$scrollbar.find(".track"),this.$thumb=this.$scrollbar.find(".thumb"),this.$document=a(document),this.axis=this.axes[d],this.content_offset=0,this.max_content_offset=0,this.max_thumb_offset=0,this.thumb_size=this.container_size()/this.content_size()*this.container_size(),this.$thumb.css(this.axis.track_size_property,this.thumb_size),this.drag_position={thumb_start:null,mouse_start:null},this._drag_start=this.drag_start.bind(this),this._drag_move=this.drag_move.bind(this),this._drag_end=this.drag_end.bind(this),this.$thumb.bind("mousedown",this._drag_start).bind("touchstart",this._drag_start),this.$track.click(this.jump_to.bind(this)),this._mousewheel=this.mousewheel.bind(this);var e=this.$container.get(0);e.addEventListener?(e.addEventListener("DOMMouseScroll",this._mousewheel,!1),e.addEventListener("mousewheel",this._mousewheel,!1)):e.onmousewheel=this._mousewheel,this.size_changed(),this.$content.bind("resize",this.size_changed.bind(this)),this.$container.bind("resize",this.size_changed.bind(this))};d.prototype={axes:{horizontal:{name:"horizontal",dimension:"x",container_size:function(){return this.$container.innerWidth()},content_container_size:function(){return this.$container.width()},content_size:function(){return this.$content.outerWidth()},track_margin:function(){return(parseInt(this.$scrollbar.css("margin-left"))||0)+(parseInt(this.$scrollbar.css("margin-right"))||0)},track_size_property:"width",position_property:"left",page_position:"pageX",wheel_delta:"wheelDeltaX"},vertical:{name:"vertical",dimension:"y",container_size:function(){return this.$container.innerHeight()},content_container_size:function(){return this.$container.height()},content_size:function(){return this.$content_container.get(0).scrollHeight},track_margin:function(){return(parseInt(this.$scrollbar.css("margin-top"))||0)+(parseInt(this.$scrollbar.css("margin-bottom"))||0)},track_size_property:"height",position_property:"top",page_position:"pageY",wheel_delta:"wheelDeltaY"}},animation_duration:250,container_size:function(){return this.axis.container_size.call(this)},content_container_size:function(){return this.axis.content_container_size.call(this)},content_size:function(){return this.axis.content_size.call(this)},track_margin:function(){return this.axis.track_margin.call(this)},size_changed:function(){this.$container.is(":visible")&&this.$content_container.css({width:this.$container.width(),height:this.$container.height()});var a=this.container_size(),b=this.content_container_size(),c=this.content_size(),d=this.track_margin();a&&c&&b&&(b>=c?(this.$container.removeClass("scrollbars-"+this.axis.name+"-visible"),this.set_position(0)):(this.$container.addClass("scrollbars-"+this.axis.name+"-visible"),this.$scrollbar.css(this.axis.track_size_property,a-d+"px"),this.max_content_offset=-1*(c-b),this.max_thumb_offset=a-this.thumb_size-d,this.content_offset<this.max_content_offset&&this.set_position(this.max_content_offset)),this.onsizechange())},onsizechange:function(){},set_position:function(b,c){if(b=parseInt(b),this.content_offset!==b){this.content_offset=parseInt(Math.max(this.max_content_offset,Math.min(b,0)));var d=this.content_offset/this.max_content_offset;if(c){var e={};e[this.axis.position_property]=this.content_offset,this.$content.animate(e,250),e={},e[this.axis.position_property]=parseInt(this.max_thumb_offset*d),this.$thumb.animate(e,250)}else this.$content.css(this.axis.position_property,this.content_offset),this.$thumb.css(this.axis.position_property,parseInt(this.max_thumb_offset*d));this.onpositionchange(this.content_offset,c),this.$container.trigger("scroll-position-changed"),a(document).trigger("nsnscroll",this.$container.get(0))}},onpositionchange:function(a,b){},drag_start:function(a){a.preventDefault(),a.stopPropagation(),this.$scrollbar.is(":visible")&&(this.drag_position.mouse_start=a[this.axis.page_position],this.drag_position.thumb_start=parseInt(this.$thumb.css(this.axis.position_property)),this.$document.bind("mousemove",this._drag_move),this.$document.bind("mouseup",this._drag_end),this.$document.bind("touchmove",this._drag_move),this.$document.bind("touchend",this._drag_end),this.$container.trigger("scroll-start"))},drag_move:function(a){a.preventDefault(),a.stopPropagation();var b=this.drag_position.thumb_start+(a[this.axis.page_position]-this.drag_position.mouse_start),c=Math.min(this.max_thumb_offset,b)/this.max_thumb_offset*this.max_content_offset;this.set_position(c),this.$container.trigger("scroll-move")},drag_end:function(a){this.$document.unbind("mousemove",this._drag_move),this.$document.unbind("mouseup",this._drag_end),this.$document.unbind("touchmove",this._drag_move),this.$document.unbind("touchend",this._drag_end),this.drag_position.thumb_start=null,this.drag_position.mouse_start=null,this.$container.trigger("scroll-end")},jump_to:function(a){var b=a[this.axis.page_position]-this.$track.offset()[this.axis.position_property]-this.thumb_size/2,c=parseInt(Math.min(this.max_thumb_offset,b)/this.max_thumb_offset*this.max_content_offset);this.set_position(c)},smooth_to:function(a){Math.min(Math.max(a,this.max_content_offset),0);this.set_position(a,!0)},mousewheel:function(b){if(this.$scrollbar.is(":visible")){var c=0,d=b||window.event;"undefined"==typeof d.wheelDeltaX&&"undefined"!=typeof d.wheelDelta&&(d.wheelDeltaX=d.wheelDeltaY=d.wheelDelta),"undefined"!=typeof d.wheelDelta?c=d[this.axis.wheel_delta]/120:d.detail&&(c=-d.detail/3),this.set_position(this.content_offset+40*c),d=a.event.fix(d),d.preventDefault(),this.$container.trigger("scroll-move")}}};var e=a.fn.scrollbars;a.fn.scrollbars=b,a.fn.scrollbars.Constructor=d,a.fn.scrollbars.noConflict=function(){return a.fn.scrollbars=e,this},a(document).ready(function(){})});