!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c),c}:a(jQuery)}(function(a){"use strict";function b(b){var c=b.find("tr:first").data("key"),d=!1,e=!1;b.find("td").each(function(){a(this).hasClass("jqx-grid-cell-selected")&&a(this).hasClass("jqx-fill-state-pressed")&&(d=!0),a(this).find("span:first").hasClass("jqx-tree-grid-collapse-button")&&(e=!0)}),!d&&e&&b.jqxTreeGrid("selectRow",c)}function c(a){var b=a.jqxGrid("selectionmode");if(b.indexOf("cell")>=0){var c=a.jqxGrid("getselectedcells");0===c.length&&d(a)}else b.indexOf("row")>=0&&-1===a.jqxGrid("getselectedrowindex")&&(a.jqxGrid("clearselection"),a.jqxGrid("selectrow",0))}function d(a){var b=a.jqxGrid("getdatainformation"),c=b.paginginformation,d=c.pagenum,e=c.pagesize;a.jqxGrid("clearselection"),a.jqxGrid("selectcell",d*e,a.jqxGrid("columns").records[0].datafield)}function e(b){var c=!1;return b.find("td").each(function(){a(this).find("span:first").hasClass("jqx-tree-grid-collapse-button")&&(c=!0)}),c}function f(a){var b=!1,c=a.closest(".jqx-grid"),d=c.find(".jqx-grid-pager");return d.length>0&&d.height()>0&&d.find(".n-table-paging-middle").length>0&&(b=!0),b}function g(a){return 0!==a.closest(".jqx-grid-pager").length}a.wfKBGrid={gridFocusinHandler:function(d){var h=a(d.target),i=h.attr("id");if(void 0!==i&&(0===i.indexOf("wrapper")||0===i.indexOf("content")||0===i.indexOf("tree")))if(e(h))b(h);else{var j=h.closest(".jqx-grid");j.length>0&&f(h)&&(g(h)||c(j))}}}});