!function(a){"function"==typeof define&&define.amd?define(["jquery","bootstrap","./keyboard/keyboard-table","./scroll","./dropdowns"],a):"object"==typeof module&&module.exports?module.exports=function(b,c){return void 0===c&&(c="undefined"!=typeof window?require("jquery"):require("jquery")(b)),a(c,require("bootstrap"),require("./keyboard/keyboard-table"),require("./scroll"),require("./dropdowns")),c}:a(jQuery)}(function(a){"use strict";function b(){c(),f(),setTimeout(g,0)}function c(){a(".n-table-scrollbar").each(function(){var b=a(this).closest("table.n-table").find("thead").eq(0).find("th").length,c=a(this).closest("table.n-table").find("thead").eq(0).html(),e=c.replace(/id="[a-zA-Z\-_0-9]*"/g,""),f="<tr><th colspan='"+b+"' style='padding: 0; border:none; border-bottom-left-radius: 7px; border-bottom-right-radius: 7px;'><table class='n-table-scrollbar'>"+e,g="</table></th></tr>",h=a(this).html();a(this).html(f+h+g),a(this).find("table").css("overflow","hidden"),a(this).removeClass("n-table-scrollbar");var i=a(this).find(".n-table-scrollbar"),j={};a(this).hasClass("scrollbar-not-autoupdate")&&(j={notAutoUpdate:!0}),d(i,j)})}function d(a,b){a.nScrollbar(b);var c=a.closest("table.n-table").width(),d=a.find(".mCSB_container"),e="<table style='width: "+c+"px;'>",f="</table>";d.html(e+d.html()+f);var g=navigator.userAgent,h=g.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];/trident/i.test(h[1])&&a.find(".mCustomScrollBox").css("overflow","visible")}function e(){a(".n-table-scrollbar").each(function(){var b=a(this).closest("table.n-table").width();a(this).find(".mCSB_container table");a(this).find(".mCSB_container table").each(function(){a(this).hasClass("datepicker-calendar-days")||a(this).width(b)})})}function f(){a(".n-table-scrollbar").each(function(){for(var b=a(this).closest("table.n-table").find("thead").children().length,c=0;b>c;c++)a(this).closest("table.n-table").find(".mCSB_container").find("tr").eq(c).find("th").each(function(){a(this).css("visibility","hidden").css("height","0").css("line-height","0").css("border-bottom","0"),a(this).find("span").css("display","none"),a(this).find("div").css("visibility","hidden").css("height","0").css("padding-top","0").css("padding-bottom","0").css("margin-top","0").css("margin-bottom","0").css("border-top","0").css("border-bottom","0"),a(this).find("input").css("visibility","hidden").css("height","0").css("padding-top","0").css("padding-bottom","0").css("margin","0").css("margin-bottom","0").css("border-top","0").css("border-bottom","0"),a(this).find("button").css("visibility","hidden").css("height","0").css("padding-top","0").css("padding-bottom","0").css("margin","0").css("margin-bottom","0").css("border-top","0").css("border-bottom","0")})})}function g(){a(".n-table-scrollbar").each(function(){var b,c=a(this).closest("table.n-table").width(),d=a(this).closest("table.n-table").find("thead").eq(0).find("th"),e=a(this).find("tr").eq(0).children(),f=0,g=[];for(b=0;b<e.length;b++){f+=parseFloat(a(e[b]).outerWidth());var h=parseFloat(a(e[b]).width());b===e.length-1&&f!==c&&(h+=c-f),g.push(h)}for(b=0;b<e.length;b++)a(d[b]).width(g[b]),a(e[b]).width(g[b])})}a(document).ready(function(){a(".n-table-hover, .n-table-cell-hover").mousedown(function(b){if(b.shiftKey&&(b.preventDefault(),"undefined"!=typeof a.browser&&a.browser.msie)){this.onselectstart=function(){return!1};var c=this;window.setTimeout(function(){c.onselectstart=null},0)}}),b(),a(".n-table-cell-hover").on("click","td",function(){a(this).closest("table").find("td").removeClass("n-cell-selected"),a(this).closest("table").find("td").not(".n-drillDown-item").removeAttr("tabindex"),a(this).closest("tfoot").length<=0&&(a(this).addClass("n-cell-selected"),a(this).attr("tabindex",0),a(this).closest("table").hasClass("n-drilldown-table")||a(this).triggerHandler("focus"),a(this).children().each(function(){a(this).is("input")&&"text"===a(this).attr("type")?a(this).triggerHandler("focus"):a(this).find("input")&&("text"!==a(this).find("input").attr("type")||a(this).closest("table").hasClass("n-drilldown-table")||a(this).find("input").triggerHandler("focus"))}))});var c;a(".n-table-hover").on("click","td",function(b){var d=a(this).closest("table").find("tr"),e=window.event&&window.event.ctrlKey||b.ctrlKey,f=window.event&&window.event.shiftKey||b.shiftKey,g=a(this).closest("tr").children("td").hasClass("n-cell-selected");if(a(this).closest("tfoot").length<=0){if(a(this).closest("tr").children("td").removeClass("n-cell-selected"),a(this).closest("table").not(".n-drilldown-table").find("td").removeAttr("tabindex"),e||f)if(e&&!f)c=a(this).closest("tr"),g||a(this).closest("tr").children("td").addClass("n-cell-selected");else{if(e||a(this).closest("table").find("td").removeClass("n-cell-selected"),"undefined"==typeof c||a(c).closest("table").get(0)!==a(this).closest("table").get(0))return c=a(this).closest("tr"),void a(this).closest("tr").children("td").addClass("n-cell-selected");for(var h=Math.min(c[0].rowIndex,a(this).closest("tr")[0].rowIndex),i=Math.max(c[0].rowIndex,a(this).closest("tr")[0].rowIndex),j=h;i>=j;j++)a(d[j]).children("td").addClass("n-cell-selected")}else c=a(this).closest("tr"),a(this).closest("table").find("td").removeClass("n-cell-selected"),a(this).closest("tr").children("td").addClass("n-cell-selected");a(this).attr("tabindex",0),a(this).closest("table").hasClass("n-drilldown-table")||a(this).triggerHandler("focus"),a(this).children().each(function(){a(this).is("input")&&"text"===a(this).attr("type")&&a(this).triggerHandler("focus")})}}),a(".n-sortable").on("click",function(){a(this).find("> span").each(function(){a(this).hasClass("icon-arrow")?(a(this).removeClass("icon-arrow"),a(this).addClass("icon-arrow-up")):a(this).hasClass("icon-arrow-up")&&(a(this).removeClass("icon-arrow-up"),a(this).addClass("icon-arrow"))})}),a(".n-table-scrollbar").on("hidden.bs.dropdown",".selectlist",function(){g()})}),a(window).resize(function(){e(),g()}),a(document).on("keydown.wf.table.keyboard",".n-table:not(.n-keyboard-off) tbody",a.wfKBTable.tableKeyboardHandler)});